<main>
 <p id="notice"></p>
 <div class="container px-5 px-sm-0">
  <% if @book.errors.any? %>
   <div id="error_explanation">
 　  <ul style="color: red">
 　   <h3><%= @book.errors.count %> error prphibited this obj form being saced:</h3>
 　   <% @book.errors.full_messages.each do |message| %>
 　   <li><%= message %></li>
 　   <% end %>
 　  </ul>
   </div>
 　<% end %>
  <div class="row">
   <%= render 'books/user_info', book: @book, user: @user %>
   <div class="col-md-8 offset-md-1">
    <h2>Books</h2>
    <table class="table table-hover table-inverse">
     <thead>
      <tr>
       <th></th>
       <th>Title</th>
       <th>Opinion</th>
       <th colspan="3"></th>
      </tr>
     </thead>
     <tbody>
      <% @books.each do |book| %>
       <tr>
        <td>
         <% if book.user.profile_image.attached? %>
          <%= link_to user_path(book.user.id) do %>
           <%= image_tag book.user.profile_image, size: "40*40", class: 'attachment user profile_image fallback' %>
          <% end %>
         <% else %>
          <%= link_to user_path(book.user.id) do %>
           <%= image_tag 'no_image', size: "40*40", class: 'attachment user profile_image fallback' %>
          <% end %>
         <% end %>
        </td>
        <td>
         <%= link_to book_path(book.id) do %>
          <%= book.title %>
         <% end %>
         </td>
        <td><%= book.body %></td>
       </tr>
      <% end %>
     </tbody>
    </table>
   </div>
  </div>
 </div>
</main>
